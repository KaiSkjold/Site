<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Koi Site</title>
    <link rel="stylesheet" href="./stylesheet.css">
</head>
<body>
    <div class="page-wrapper">
        <header>
            <h1>Velkommen til verdens bedste hjemmeside om koi fisk!</h1>
        </header>
        <div class="main-content">
            

            <div id="data-table">
                <table id="html-data-table">
                    <tr>
                        <th>Id</th>
                        <th>Name</th>
                        <th>Color</th>
                        <th>Weight</th>
                        <th>Created</th>
                    </tr>
                </table>    
            </div>

        </div>





    </div>
    
            <script type="text/javascript" charset="utf-8">
                fetch('https://localhost:7057/api/Koi/all')
                .then(function (response) {
                    return response.json();
                }).then(function (apiJsonData) {
                    console.log(apiJsonData);
                    renderDataInTheTable(apiJsonData);
                })

                function renderDataInTheTable(todos) {
                    const mytable = document.getElementById("html-data-table");
                    todos.forEach(todo => {
                        let newRow = document.createElement("tr");
                        Object.values(todo).forEach((value) => {
                            let cell = document.createElement("td");

                            cell.innerText = value;
                            newRow.appendChild(cell);


                        })
                        var btn = document.createElement('input');
                        btn.type = "button";
                        btn.className = "btn";  
                        newRow.appendChild(btn);

                        mytable.appendChild(newRow);
                    });
                }
                
            </script>
</body>
</html>